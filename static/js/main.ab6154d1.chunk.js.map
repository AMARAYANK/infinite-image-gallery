{"version":3,"sources":["App.js","index.js"],"names":["accessKey","process","App","useState","images","setImages","page","setPage","query","setQuery","getPhotos","apiURL","fetch","then","res","json","data","imagesFromApi","results","useEffect","className","onSubmit","e","preventDefault","value","type","placeholder","onChange","target","disabled","dataLength","length","next","hasMore","loader","map","image","index","href","links","html","rel","src","urls","regular","alt","alt_description","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2OAIMA,EAAYC,8CAEH,SAASC,IACtB,MAA4BC,mBAAS,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAAwBF,mBAAS,GAAjC,mBAAOG,EAAP,KAAaC,EAAb,KACA,EAA0BJ,mBAAS,IAAnC,mBAAOK,EAAP,KAAcC,EAAd,KAOA,SAASC,IACP,IAAIC,EAAM,mCACPH,IAAOG,EAAM,uDAAmDH,IAEnEG,GAAQ,SAAF,OAAYL,GAClBK,GAAQ,cAAF,OAAiBX,GAEvBY,MAAMD,GACLE,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GAAU,IAAD,EACRC,EAAa,UAAGD,EAAKE,eAAR,QAAmBF,EAC1B,IAATV,GAAYD,EAAUY,GACzBZ,GAAU,SAACD,GAAD,4BAAgBA,GAAhB,YAA2Ba,UAsBzC,OAvCAE,qBAAU,WACRT,MAEC,CAACJ,IAqCF,sBAAKc,UAAU,MAAf,UACE,yDAEA,uBAAMC,SAdX,SAAsBC,GACnB,OAADA,QAAC,IAADA,KAAGC,iBACHhB,EAAQ,GACRG,KAWG,UACE,uBAAOc,MAAOhB,EAAOiB,KAAK,OAAOC,YAAY,qBAAqBC,SATzE,SAAoBL,GAClBb,EAASa,EAAEM,OAAOJ,UASZhB,EAAQ,4CAA0B,wBAAQqB,UAAQ,EAAhB,uBAGrC,cAAC,IAAD,CACAC,WAAY1B,EAAO2B,OACnBC,KAAM,kBAAMzB,GAAQ,SAACD,GAAD,OAAUA,EAAO,MACrC2B,SAAS,EACTC,OAAQ,4CAJR,SAMA,qBAAKd,UAAU,aAAf,SACGhB,EAAO+B,KAAI,SAACC,EAAOC,GAAR,OACV,mBAAGjB,UAAU,QAAoBkB,KAAMF,EAAMG,MAAMC,KAAMZ,OAAO,SAASa,IAAI,sBAA7E,SACE,qBAAKC,IAAKN,EAAMO,KAAKC,QAASC,IAAKT,EAAMU,mBADjBT,aC/DpCU,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.ab6154d1.chunk.js","sourcesContent":["import React, { useState, useEffect} from 'react';\r\nimport './App.css';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\n\r\nconst accessKey = process.env.REACT_APP_UNSPLASH_ACCESS_KEY\r\n\r\nexport default function App() {\r\n  const [images, setImages] = useState([])\r\n  const [page, setPage] = useState(1)\r\n  const [query, setQuery] = useState('')\r\n\r\n  useEffect(() => {\r\n    getPhotos()\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [page])\r\n  \r\n  function getPhotos(){\r\n    let apiURL = `https://api.unsplash.com/photos?`\r\n    if(query) apiURL = `https://api.unsplash.com/search/photos?query=${query}`\r\n\r\n    apiURL+= `&page=${page}`\r\n    apiURL+= `&client_id=${accessKey}`\r\n\r\n    fetch(apiURL)\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      const imagesFromApi = data.results ?? data \r\n      if(page === 1) setImages(imagesFromApi)\r\n      setImages((images) => [...images, ...imagesFromApi])\r\n    })\r\n  }\r\n\r\n\r\n // return an error if there is no access key\r\n if(!accessKey){\r\n   return <a href='https://unsplash.com/developers' className='error'>\r\n    Required: Get your unsplash API key first!\r\n    </a>\r\n }\r\n \r\n function searchPhotos(e){\r\n   e?.preventDefault() \r\n   setPage(1)\r\n   getPhotos()\r\n }\r\n \r\n function searchText(e){\r\n   setQuery(e.target.value)\r\n }\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <h1>Unsplash Image Gallery!</h1>\r\n\r\n      <form onSubmit={searchPhotos}>\r\n        <input value={query} type=\"text\" placeholder=\"Search Unsplash...\" onChange={searchText}/>\r\n        {query ? <button>Search</button> : <button disabled>Search</button> }\r\n      </form>\r\n\r\n      <InfiniteScroll\r\n      dataLength={images.length}\r\n      next={() => setPage((page) => page + 1)}\r\n      hasMore={true}\r\n      loader={<h4>Loading...</h4>}\r\n      >\r\n      <div className=\"image-grid\">\r\n        {images.map((image, index) => (\r\n          <a className=\"image\" key={index} href={image.links.html} target=\"_blank\" rel=\"noopener noreferrer\">\r\n            <img src={image.urls.regular} alt={image.alt_description} />\r\n          </a>\r\n        ))}\r\n      </div>\r\n      </InfiniteScroll>\r\n\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}